{
    "constants": {"threshold": 7},
    "description": "Admission application workflow",
    "resources": [
        "MetaSpecificationWorkflow.tasks"
    ],
    "roles": [
        "admin",
        "user",
        "system"
        "acad_admin"
    ],
    "tasks": [
        {
            "description": "Starting task of the workflow",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "start"
            },
            "name": "start",
            "input_params": [],
            "output_params": [],
            "form": {},
            "role": "system",
            "task_type": "user",
            "rules": {}
        },
        {
            "description": "Add application",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "add_application"
            },
            "name": "AddApplication",
            "input_params": [],
            "output_params": [],
            "form": [{"name": "name", "datatype": "char", "label": "Name of student: ", "max_length=100"},
                    {"name": "age", "datatype": "int", "label": "Age of student: "}
                    {"name": "CGPA", "datatype": "float", "label": "CGPA of student: "}
                    {"name": "email", "datatype": "email", "label": "Email ID of student: "}
                ],
            "role": "user",
            "task_type": "user",
            "rules": {"gate": "AND", "rules": ["R1"]}
        },
        {
            "description": "Check approval",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "check_approval"
            },
            "name": "CheckApproval",
            "input_params": ["CGPA"],
            "output_params": ["roles"],
            "form": [{"name": "acceptance", "datatype": "choice", "choices": [["True","Accept Application"],["False","Reject Application"]], "label": "Application approval"}],
            "role": "acad_admin",
            "task_type": "user",
            "rules": {"gate": "AND", "rules": ["R2"]}
        },
        {
            "description": "Call for interview",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "call_interview"
            },
            "name": "CallInterview",
            "input_params": ["email"],
            "output_params": [],
            "form": [],
            "role": "system",
            "task_type": "user",
            "rules": {"gate": "AND", "rules": ["R3"]}
        },
        {
            "description": "Reject Application",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "reject_application"
            },
            "name": "RejectApplication",
            "input_params": ["email"],
            "output_params": [],
            "form": [],
            "role": "system",
            "task_type": "user",
            "rules": {"gate": "AND", "rules": ["R4"]}
        },
        {
            "description": "End",
            "handler": {
                "module": "MetaSpecificationWorkflow.tasks",
                "class": "Tasks",
                "function": "end"
            },
            "name": "DefineECRules",
            "input_params": [],
            "output_params": [],
            "form": [],
            "role": "system",
            "task_type": "user",
            "rules": {"gate": "XOR", "rules": ["R5,R6"]}
        },
    ],
    "name": "AdmissionWorkflow",
    "workflow_type": "user",
    "rules": [
        {"name":"R1", "event": "E1", "condition": ""},
        {"name":"R2", "event": "E2", "condition": ""},
        {"name":"R3", "event": "E3", "condition": "C1"},
        {"name":"R4", "event": "E3", "condition": "C2"},
        {"name":"R5", "event": "E4", "condition": ""},
        {"name":"R6", "event": "E5", "condition": ""},
    ],
    "events": [
        {"name":"E1", "task": "start", "state": "finished"},
        {"name":"E2", "task": "AddApplication", "state": "finished"},
        {"name":"E3", "task": "CheckApproval", "state": "finished"},
        {"name":"E4", "task": "CallInterview", "state": "finished"},
        {"name":"E5", "task": "RejectApplication", "state": "finished"},
        {"name":"E6", "task": "end", "state": "finished"},
    ],
    "conditions": [
        {"name":"C1", "operator": ">=", "operand": "CGPA", "constant": "threshold"},
        {"name":"C2", "operator": "<", "operand": "CGPA", "constant": "threshold"},
    ]
}