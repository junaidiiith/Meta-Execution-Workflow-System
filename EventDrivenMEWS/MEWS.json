{
    "constants": {
        "RS": "not started"
    },
    "description": "Meta Execution Workflow",
    "globals": {
        "state": "not started"
    },
    "resources": [
        "MetaExecutionWorkflow.tasks"
    ],
    "roles": [
        "admin",
        "user"
    ],
    "tasks": [
        {
            "affected_objects": {
                "global": ["state"],
                "local": []
            },
            "description": "Starting task of the workflow",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "start"
            ],
            "manual": "False",
            "name": "start",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "start",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "started",
                                "operand": {
                                    "type": "global",
                                    "variable": "state"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "create workflow instance"
                }
            ],
            "owner": "admin",
            "type": "meta"
        },
        {
            "affected_objects": {
                "global": ["state"],
                "local": []
            },
            "description": "creating a workflow execution instance",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "create_workflow_instance"
            ],
            "manual": "False",
            "name": "create workflow instance",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "create workflow instance",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "running",
                                "operand": {
                                    "type": "global",
                                    "variable": "state"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "execute",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "get a task"
                }
            ],
            "owner": "admin",
            "type": "meta"
        },
        {
            "affected_objects": {
                "global": [],
                "local": []
            },
            "description": "Getting the next task from the user workflow",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "get_a_task"
            ],
            "manual": "False",
            "name": "get a task",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "get a task",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "check task"
                }
            ],
            "owner": "admin",
            "type": "meta"
        },
        {
            "affected_objects": {
                "global": [],
                "local": [
                  {
                    "get a task": ["output"]
                  }
                ]
            },
            "description": "Checking the task if null or not",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "check_task"
            ],
            "manual": "False",
            "name": "check task",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "check task",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "True",
                                "operand": {
                                    "task": {
                                        "name": "check task",
                                        "variable": "output"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "check resources"
                },
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "check task",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "False",
                                "operand": {
                                    "task": {
                                        "name": "check task",
                                        "variable": "output"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "end"
                }
            ],
            "owner": "admin",
            "type": "meta"
        },
        {
            "affected_objects": {
                "global": [],
                "local": [
                  {
                    "get a task": ["output"]
                  }
                ]
            },
            "description": "Checking if resources available",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "check_resources"
            ],
            "manual": "False",
            "name": "check resources",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "check resources",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "available",
                                "operand": {
                                    "task": {
                                        "name": "check resources",
                                        "variable": "output"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "execute"
                }
            ],
            "owner": "admin",
            "type": "meta"
        },
        {
            "affected_objects": {
                "global": [],
                "local": [
                  {
                    "get a task": ["output"]
                  }
                ]
            },
            "description": "Executing the task of user workflow",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "execute"
            ],
            "manual": "False",
            "name": "execute",
            "output_tasks": [
                {
                    "conditions": [
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "create workflow instance",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "running",
                                "operand": {
                                    "type": "global",
                                    "variable": "state"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        },
                        {
                            "expression": {
                                "constant": "finished",
                                "operand": {
                                    "task": {
                                        "name": "execute",
                                        "variable": "state"
                                    },
                                    "type": "local"
                                },
                                "operator": "=="
                            },
                            "type": "Arithmetic"
                        }
                    ],
                    "task": "get a task"
                }
            ],
            "owner": "admin",
            "type": "met"
        },
        {
            "affected_objects": {
                "global": ["state"],
                "local": []
            },
            "description": "Ending task of the meta execution",
            "handler": [
                "MetaExecutionWorkflow.tasks",
                "Tasks",
                "end"
            ],
            "manual": "False",
            "name": "end",
            "output_tasks": [],
            "owner": "admin",
            "type": "meta"
        }
    ],
    "title": "MEWS",
    "type": "meta"
}